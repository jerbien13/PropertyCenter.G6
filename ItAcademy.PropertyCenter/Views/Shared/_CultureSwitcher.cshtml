@using ItAcademy.PropertyCenter.Core;
@using ItAcademy.PropertyCenter.Models;

<ul class="nav navbar-nav navbar-right">
    <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">@DisplayResources.ChooseYourLanguage <span class="caret"></span></a>
        <ul class="dropdown-menu" role="menu">
            @foreach (var item in CultureHelper.Cultures)
            {
                var cultureViewModel = new CultureViewModel()
                {
                    Culture = item,
                    ReturnAction = ViewContext.RouteData.Values["action"].ToString(),
                    ReturnController = ViewContext.RouteData.Values["controller"].ToString()
                };

                <li>
                    @Html.ActionLink(@item, "SetCulture", "CultureSwitcher", cultureViewModel, null)
                </li>
            }
        </ul>
    </li>
</ul>